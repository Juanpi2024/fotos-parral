---
---
<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galer√≠a Hist√≥rica ‚Äì Archivos en Movimiento</title>

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Galer√≠a Hist√≥rica de Parral | Archivos en Movimiento">
    <meta property="og:description"
        content="Navega por las colecciones fotogr√°ficas de Parral. Im√°genes restauradas y coloreadas que cuentan nuestra historia.">
    <meta property="og:image" content="https://fotos-parral.cl/optimized/images/slider-tren.webp">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Merriweather:wght@300;400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    {% include header.html %}

    <section class="hero"
        style="background: linear-gradient(180deg, #0a0a0a 0%, #1a1a1a 100%); padding: 4rem 1rem 3rem; min-height: auto;">
        <div class="container" style="text-align: center;">
            <h2 class="hero-title-dual inline">
                <span class="title-white">Galer√≠a</span>
                <span class="title-gold">Digital</span>
            </h2>
            <p style="color: rgba(255,255,255,0.7); margin-top: 1rem;">
                Revive momentos hist√≥ricos de Parral.
                <a href="metodologia.html"
                    style="color: var(--accent-color); text-decoration: underline; margin-left: 0.5rem;">Conoce nuestra
                    metodolog√≠a √©tica.</a>
            </p>
        </div>
    </section>

    <section class="container" style="padding: 4rem 1rem;">
        <!-- Buscador Inteligente -->
        <div class="search-container" style="margin-bottom: 3rem; text-align: center;">
            <div style="max-width: 600px; margin: 0 auto; position: relative;">
                <input type="text" id="smartSearch"
                    placeholder="Busca por temas (ej: 'desfiles', 'campo', 'iglesia')..."
                    style="width: 100%; padding: 1rem 3rem 1rem 1.5rem; border: 1px solid var(--border-color); border-radius: 30px; font-family: var(--font-body); font-size: 1rem; box-shadow: var(--card-shadow);">
                <span
                    style="position: absolute; right: 1.5rem; top: 50%; transform: translateY(-50%); opacity: 0.5;">üîç</span>
            </div>
            <div class="search-tags"
                style="margin-top: 1rem; display: flex; gap: 0.5rem; justify-content: center; flex-wrap: wrap;">
                <span class="search-tag" data-target="tren"
                    style="background: var(--card-bg-warm); padding: 0.3rem 0.8rem; border-radius: 15px; font-size: 0.8rem; cursor: pointer; border: 1px solid var(--border-color);">#Tren</span>
                <span class="search-tag" data-target="plaza"
                    style="background: var(--card-bg-warm); padding: 0.3rem 0.8rem; border-radius: 15px; font-size: 0.8rem; cursor: pointer; border: 1px solid var(--border-color);">#Plaza</span>
                <span class="search-tag" data-target="comercio"
                    style="background: var(--card-bg-warm); padding: 0.3rem 0.8rem; border-radius: 15px; font-size: 0.8rem; cursor: pointer; border: 1px solid var(--border-color);">#Comercio</span>
                <span class="search-tag" data-target="campo"
                    style="background: var(--card-bg-warm); padding: 0.3rem 0.8rem; border-radius: 15px; font-size: 0.8rem; cursor: pointer; border: 1px solid var(--border-color);">#Campo</span>
            </div>
        </div>

        <div class="grid-galeria" id="galleryGrid">
            <!-- Fila 1 -->
            <div class="card-foto" data-tags="avenida buenos aires calle transito">
                <div class="card-foto-img-container">
                    <span class="heritage-badge badge-original">Archivo Original</span>
                    <img src="optimized/img/bajada-original_thumb.webp"
                        alt="Vista hist√≥rica de la Bajada Buenos Aires in Parral" loading="lazy" width="600"
                        height="375">
                </div>
                <div class="card-foto-content">
                    <h3>Bajada Buenos Aires</h3>
                    <p>Vistas hist√≥ricas de la avenida</p>
                    <a href="detalle-bajada.html" class="btn-card">Ver Colecci√≥n</a>
                </div>
            </div>
            <div class="card-foto" data-tags="comercio tienda negocios compras economia">
                <div class="card-foto-img-container">
                    <img src="optimized/img/locales-original_thumb.webp"
                        alt="Fachadas de locales comerciales hist√≥ricos de Parral" loading="lazy" width="600"
                        height="375">
                </div>
                <div class="card-foto-content">
                    <h3>Locales Comerciales de Siempre</h3>
                    <p>Comercio Hist√≥rico</p>
                    <a href="detalle-locales.html" class="btn-card">Ver Colecci√≥n</a>
                </div>
            </div>
            <div class="card-foto" data-tags="plaza civico centro monumento desfiles">
                <div class="card-foto-img-container">
                    <span class="heritage-badge badge-restored">Restauraci√≥n IA</span>
                    <img src="optimized/img/plaza-original_thumb.webp"
                        alt="Plaza de Armas de Parral, recreaci√≥n hist√≥rica con IA" loading="lazy" width="600"
                        height="375">
                </div>
                <div class="card-foto-content">
                    <h3>Plaza de Armas</h3>
                    <p>El Coraz√≥n C√≠vico</p>
                    <a href="detalle-plaza.html" class="btn-card">Ver Colecci√≥n</a>
                </div>
            </div>
            <div class="card-foto">
                <div class="card-foto-img-container">
                    <span class="heritage-badge badge-original">Archivo Original</span>
                    <img src="optimized/images/parral-bomberos-1_thumb.webp"
                        alt="Antiguo carro de bomberos de Parral y sus voluntarios" loading="lazy" width="600"
                        height="375">
                </div>
                <div class="card-foto-content">
                    <h3>Bomberos de Parral</h3>
                    <p>H√©roes del Fuego</p>
                    <a href="detalle-bomberos.html" class="btn-card">Ver Colecci√≥n</a>
                </div>
            </div>
            <div class="card-foto">
                <div class="card-foto-img-container">
                    <img src="https://images.unsplash.com/photo-1509062522246-3755977927d7?auto=format&fit=crop&w=600&q=80"
                        alt="Ilustraci√≥n representativa de una antigua escuela de ni√±as" loading="lazy" width="600"
                        height="375">
                </div>
                <div class="card-foto-content">
                    <h3>Escuela de Ni√±as</h3>
                    <p>Educaci√≥n Femenina</p>
                    <a href="detalle.html" class="btn-card">Ver Colecci√≥n</a>
                </div>
            </div>
            <div class="card-foto" onclick="openModal('avenidaModal')" style="cursor: pointer;">
                <div class="card-foto-img-container">
                    <img src="optimized/img/avenida-original_thumb.webp" alt="Vista de la Avenida Principal de Parral"
                        loading="lazy" width="600" height="375">
                </div>
                <div class="card-foto-content">
                    <h3>Avenida Principal</h3>
                    <p>La columna vertebral</p>
                    <button onclick="event.stopPropagation(); openModal('avenidaModal')" class="btn-card">Ver
                        Colecci√≥n</button>
                </div>
            </div>

            <!-- Fila 2 -->
            <div class="card-foto" data-tags="camion transporte carga maquina agricultura">
                <div class="card-foto-img-container">
                    <img src="optimized/img/arroz-original_thumb.webp"
                        alt="Cami√≥n cargado con sacos de arroz en el campo de Parral" loading="lazy" width="600"
                        height="375">
                </div>
                <div class="card-foto-content">
                    <h3>Hombres en el Arroz</h3>
                    <p>Identidad Agr√≠cola</p>
                    <a href="detalle-arroz.html" class="btn-card">Ver Colecci√≥n</a>
                </div>
            </div>
            <div class="card-foto">
                <div class="card-foto-img-container">
                    <img src="https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?auto=format&fit=crop&w=600&q=80"
                        alt="Materiales de archivo y documentos hist√≥ricos" loading="lazy" width="600" height="375">
                </div>
                <div class="card-foto-content">
                    <h3>Historia y Materiales</h3>
                    <p>Documentos Hist√≥ricos</p>
                    <a href="detalle.html" class="btn-card">Ver Colecci√≥n</a>
                </div>
            </div>
            <div class="card-foto">
                <div class="card-foto-img-container">
                    <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?auto=format&fit=crop&w=600&q=80"
                        alt="Retrato de Don Chaca, personaje t√≠pico" loading="lazy" width="600" height="375">
                </div>
                <div class="card-foto-content">
                    <h3>Don Chaca</h3>
                    <p>Personaje Ic√≥nico</p>
                    <a href="detalle.html" class="btn-card">Ver Colecci√≥n</a>
                </div>
            </div>
            <div class="card-foto">
                <div class="card-foto-img-container">
                    <img src="https://images.unsplash.com/photo-1517486808906-6ca8b3f04846?auto=format&fit=crop&w=600&q=80"
                        alt="Don Chaca en una de sus an√©cdotas populares" loading="lazy" width="600" height="375">
                </div>
                <div class="card-foto-content">
                    <h3>Don Chaca en Acci√≥n</h3>
                    <p>An√©cdotas Vivas</p>
                    <a href="detalle.html" class="btn-card">Ver Colecci√≥n</a>
                </div>
            </div>

            <!-- Fila 3 -->
            <div class="card-foto">
                <div class="card-foto-img-container">
                    <img src="https://images.unsplash.com/photo-1474487548417-781cb71495f3?auto=format&fit=crop&w=600&q=80"
                        alt="Locomotora antigua en la estaci√≥n de trenes de Parral" loading="lazy" width="600"
                        height="375">
                </div>
                <div class="card-foto-content">
                    <h3>Estaci√≥n de Trenes</h3>
                    <p>Conectando Parral</p>
                    <a href="detalle.html" class="btn-card">Ver Colecci√≥n</a>
                </div>
            </div>
            <div class="card-foto">
                <div class="card-foto-img-container">
                    <img src="https://images.unsplash.com/photo-1488459716781-31db52582fe9?auto=format&fit=crop&w=600&q=80"
                        alt="Puesto de feriantes en el Mercado Municipal" loading="lazy" width="600" height="375">
                </div>
                <div class="card-foto-content">
                    <h3>Mercado Municipal</h3>
                    <p>Sabores de la Tierra</p>
                    <a href="detalle.html" class="btn-card">Ver Colecci√≥n</a>
                </div>
            </div>
            <div class="card-foto">
                <div class="card-foto-img-container">
                    <img src="https://images.unsplash.com/photo-1506157786151-b8491531f063?auto=format&fit=crop&w=600&q=80"
                        alt="Celebraci√≥n tradicional de la vendimia" loading="lazy" width="600" height="375">
                </div>
                <div class="card-foto-content">
                    <h3>Fiesta de la Vendimia</h3>
                    <p>Celebraci√≥n Popular</p>
                    <a href="detalle.html" class="btn-card">Ver Colecci√≥n</a>
                </div>
            </div>
            <div class="card-foto">
                <div class="card-foto-img-container">
                    <img src="https://images.unsplash.com/photo-1585822765504-2072381e4289?auto=format&fit=crop&w=600&q=80"
                        alt="Efectos visibles del terremoto de 1939 en la zona" loading="lazy" width="600" height="375">
                </div>
                <div class="card-foto-content">
                    <h3>Terremoto de 1939</h3>
                    <p>La Gran Prueba</p>
                    <a href="detalle.html" class="btn-card">Ver Colecci√≥n</a>
                </div>
            </div>

            <!-- Fila 4 -->
            <div class="card-foto">
                <div class="card-foto-img-container">
                    <img src="https://images.unsplash.com/photo-1594498653385-d5172c532c00?auto=format&fit=crop&w=600&q=80"
                        alt="Proceso de reconstrucci√≥n tras el sismo de 2010" loading="lazy" width="600" height="375">
                </div>
                <div class="card-foto-content">
                    <h3>Reconstrucci√≥n 2010</h3>
                    <p>Levantando Parral</p>
                    <a href="detalle.html" class="btn-card">Ver Colecci√≥n</a>
                </div>
            </div>
            <div class="card-foto">
                <div class="card-foto-img-container">
                    <img src="https://images.unsplash.com/photo-1461896836934-ffe607ba8211?auto=format&fit=crop&w=600&q=80"
                        alt="Escena representativa de clubes deportivos barriales" loading="lazy" width="600"
                        height="375">
                </div>
                <div class="card-foto-content">
                    <h3>Clubes Deportivos</h3>
                    <p>Pasi√≥n de Barrio</p>
                    <a href="detalle.html" class="btn-card">Ver Colecci√≥n</a>
                </div>
            </div>
            <div class="card-foto">
                <div class="card-foto-img-container">
                    <img src="https://images.unsplash.com/photo-1545989253-02cc26577f88?auto=format&fit=crop&w=600&q=80"
                        alt="Procesi√≥n religiosa tradicional de Parral" loading="lazy" width="600" height="375">
                </div>
                <div class="card-foto-content">
                    <h3>Procesiones</h3>
                    <p>Fe y Tradici√≥n</p>
                    <a href="detalle.html" class="btn-card">Ver Colecci√≥n</a>
                </div>
            </div>
            <div class="card-foto">
                <div class="card-foto-img-container">
                    <img src="https://images.unsplash.com/photo-1511192336575-5a79af67a629?auto=format&fit=crop&w=600&q=80"
                        alt="M√∫sicos de la banda instrumental en la plaza" loading="lazy" width="600" height="375">
                </div>
                <div class="card-foto-content">
                    <h3>Banda Instrumental</h3>
                    <p>M√∫sica en la Plaza</p>
                    <a href="detalle.html" class="btn-card">Ver Colecci√≥n</a>
                </div>
            </div>

            <!-- Fila 5 -->
            <div class="card-foto">
                <div class="card-foto-img-container">
                    <img src="https://images.unsplash.com/photo-1532153354457-5fbe1a3bb0b4?auto=format&fit=crop&w=600&q=80"
                        alt="Desfile patrio por las calles c√©ntricas de Parral" loading="lazy" width="600" height="375">
                </div>
                <div class="card-foto-content">
                    <h3>Desfiles Patrios</h3>
                    <p>Orgullo Comunal</p>
                    <a href="detalle.html" class="btn-card">Ver Colecci√≥n</a>
                </div>
            </div>
            <div class="card-foto">
                <div class="card-foto-img-container">
                    <img src="https://images.unsplash.com/photo-1507676184212-d03ab07a11d0?auto=format&fit=crop&w=600&q=80"
                        alt="Fachada representativa del Teatro Municipal" loading="lazy" width="600" height="375">
                </div>
                <div class="card-foto-content">
                    <h3>Teatro Municipal</h3>
                    <p>Cultura y Arte</p>
                    <a href="detalle.html" class="btn-card">Ver Colecci√≥n</a>
                </div>
            </div>
            <div class="card-foto">
                <div class="card-foto-img-container">
                    <img src="https://images.unsplash.com/photo-1500382017468-9049fed747ef?auto=format&fit=crop&w=600&q=80"
                        alt="Paisaje de la vida rural y campos de Parral" loading="lazy" width="600" height="375">
                </div>
                <div class="card-foto-content">
                    <h3>Vida Rural</h3>
                    <p>Haciendas y Campos</p>
                    <a href="detalle-bajada.html" class="btn-card">Ver Colecci√≥n</a>
                </div>
            </div>
            <div class="card-foto">
                <div class="card-foto-img-container">
                    <img src="https://images.unsplash.com/photo-1511895426328-dc8714191300?auto=format&fit=crop&w=600&q=80"
                        alt="Antiguo retrato de una familia parralina" loading="lazy" width="600" height="375">
                </div>
                <div class="card-foto-content">
                    <h3>Retratos de Familia</h3>
                    <p>Rostros del Pasado</p>
                    <a href="detalle.html" class="btn-card">Ver Colecci√≥n</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Modal Avenida Principal -->
    <div id="avenidaModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('avenidaModal')">&times;</span>

            <div class="modal-header">
                <button onclick="closeModal('avenidaModal')" class="btn-back">
                    ‚Üê Volver a Galer√≠a
                </button>
                <h2>üèõÔ∏è Avenida Principal de Parral</h2>
                <p>Colecci√≥n completa de im√°genes hist√≥ricas de la avenida principal</p>
            </div>

            <!-- Video Section -->
            <div style="margin-bottom: 2.5rem;">
                <h3
                    style="font-family: var(--font-heading); color: var(--primary-color); margin-bottom: 1rem; text-align: center;">
                    üé¨ Video Hist√≥rico
                </h3>
                <div class="video-container">
                    <iframe src="https://www.youtube.com/embed/TPjZg1WbqWw"
                        title="Avenida Principal de Parral - Video Hist√≥rico" frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                        allowfullscreen>
                    </iframe>
                </div>
            </div>

            <!-- Before/After Comparison Section -->
            <div style="margin-bottom: 2.5rem;">
                <h3
                    style="font-family: var(--font-heading); color: var(--primary-color); margin-bottom: 0.5rem; text-align: center;">
                    üîÑ Compara: Original vs Coloreada
                </h3>
                <p style="text-align: center; color: var(--text-light); margin-bottom: 1rem; font-size: 0.9rem;">
                    Arrastra el control para comparar ‚Üí
                </p>
                <div class="before-after-container" id="beforeAfterContainer">
                    <div class="before-after-wrapper">
                        <!-- After Image (Coloreada) - Background -->
                        <img src="optimized/img/avenida-color.webp" alt="Avenida Coloreada" class="after-image">
                        <!-- Before Image (Original) - Overlay -->
                        <div class="before-image-wrapper" id="beforeImageWrapper">
                            <img src="optimized/img/avenida-original.webp" alt="Avenida Original" class="before-image">
                        </div>
                        <!-- Slider Control -->
                        <div class="slider-control" id="sliderControl">
                            <div class="slider-button"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Image Gallery Section -->
            <h3
                style="font-family: var(--font-heading); color: var(--primary-color); margin-bottom: 1rem; text-align: center;">
                üì∏ Galer√≠a de Im√°genes
            </h3>

            <div class="modal-grid">
                <!-- Imagen 1: Original -->
                <div class="colorear-item">
                    <h4
                        style="font-family: var(--font-heading); color: var(--primary-color); margin-bottom: 0.5rem; font-size: 1rem; text-align: center;">
                        üì∑ Foto Original
                    </h4>
                    <div class="colorear-img-container"
                        onclick="openLightbox('optimized/img/avenida-original.webp', 'Foto Original')">
                        <img src="optimized/img/avenida-original_thumb.webp" alt="Avenida Principal - Foto Original"
                            class="colorear-img" loading="lazy" width="400" height="280" style="cursor: pointer;">
                    </div>
                    <a href="optimized/img/avenida-original.webp" download="Avenida_Parral_Original.webp"
                        class="btn-download-sm">Descargar</a>
                </div>
                <!-- Imagen 2: Restaurada -->
                <div class="colorear-item">
                    <h4
                        style="font-family: var(--font-heading); color: var(--primary-color); margin-bottom: 0.5rem; font-size: 1rem; text-align: center;">
                        ‚ú® Restaurada con IA
                    </h4>
                    <div class="colorear-img-container"
                        onclick="openLightbox('optimized/img/avenida-restaurada.webp', 'Restaurada con IA')">
                        <img src="optimized/img/avenida-restaurada_thumb.webp"
                            alt="Avenida Principal - Restaurada con IA" class="colorear-img" loading="lazy" width="400"
                            height="280" style="cursor: pointer;">
                    </div>
                    <a href="optimized/img/avenida-restaurada.webp" download="Avenida_Parral_Restaurada.webp"
                        class="btn-download-sm">Descargar</a>
                </div>
                <!-- Imagen 3: Coloreada -->
                <div class="colorear-item">
                    <h4
                        style="font-family: var(--font-heading); color: var(--primary-color); margin-bottom: 0.5rem; font-size: 1rem; text-align: center;">
                        üé® Coloreada con IA
                    </h4>
                    <div class="colorear-img-container"
                        onclick="openLightbox('optimized/img/avenida-color.webp', 'Coloreada con IA')">
                        <img src="optimized/img/avenida-color_thumb.webp" alt="Avenida Principal - Coloreada con IA"
                            class="colorear-img" loading="lazy" width="400" height="280" style="cursor: pointer;">
                    </div>
                    <a href="optimized/img/avenida-color.webp" download="Avenida_Parral_Color.webp"
                        class="btn-download-sm">Descargar</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Lightbox for enlarged images -->
    <div id="lightbox" class="modal" style="display: none;">
        <div class="modal-content"
            style="max-width: 90%; max-height: 90vh; padding: 0; background: transparent; box-shadow: none;">
            <span class="close-modal" onclick="closeLightbox()"
                style="position: absolute; top: 20px; right: 40px; font-size: 3rem; z-index: 1001;">&times;</span>
            <div style="text-align: center; position: relative;">
                <img id="lightboxImg" src="" alt=""
                    style="max-width: 100%; max-height: 85vh; border-radius: 8px; box-shadow: 0 10px 40px rgba(0,0,0,0.5);">
                <div style="margin-top: 1rem;">
                    <a id="lightboxDownload" href="" download class="btn-download-sm"
                        style="display: inline-block; padding: 0.75rem 1.5rem; font-size: 1rem;">‚¨áÔ∏è Descargar</a>
                </div>
            </div>
        </div>
    </div>

    {% include footer.html %}

    <script>
        // Mobile Menu Toggle
        document.querySelector('.mobile-menu-btn').addEventListener('click', function () {
            document.querySelector('.main-nav').classList.toggle('show');
        });

        // Search Logic
        const smartSearch = document.getElementById('smartSearch');
        const cards = document.querySelectorAll('.card-foto');
        const searchTags = document.querySelectorAll('.search-tag');

        function filterCards(query) {
            const q = query.toLowerCase();
            cards.forEach(card => {
                const title = card.querySelector('h3').textContent.toLowerCase();
                const desc = card.querySelector('p').textContent.toLowerCase();
                const tags = card.getAttribute('data-tags') || "";

                if (title.includes(q) || desc.includes(q) || tags.includes(q)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        smartSearch.addEventListener('input', (e) => {
            filterCards(e.target.value);
        });

        searchTags.forEach(tag => {
            tag.addEventListener('click', () => {
                const target = tag.getAttribute('data-target');
                smartSearch.value = target;
                filterCards(target);
            });
        });

        // ==========================================
        // MODAL SYSTEM
        // ==========================================
        function openModal(id) {
            const modal = document.getElementById(id);
            if (modal) {
                modal.style.display = "block";
                setTimeout(() => {
                    modal.classList.add('show');
                }, 10);
                document.body.style.overflow = 'hidden';
            }
        }

        function closeModal(id) {
            const modal = document.getElementById(id);
            if (modal) {
                modal.classList.remove('show');
                setTimeout(() => {
                    modal.style.display = "none";
                    document.body.style.overflow = '';
                }, 300);
            }
        }

        // Close modal when clicking outside
        window.onclick = function (event) {
            if (event.target.classList.contains('modal')) {
                const modalId = event.target.id;
                if (modalId === 'lightbox') {
                    closeLightbox();
                } else {
                    closeModal(modalId);
                }
            }
        }

        // ==========================================
        // LIGHTBOX FUNCTIONALITY
        // ==========================================
        function openLightbox(imgSrc, altText) {
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightboxImg');
            const lightboxDownload = document.getElementById('lightboxDownload');

            lightboxImg.src = imgSrc;
            lightboxImg.alt = altText;
            lightboxDownload.href = imgSrc;
            lightboxDownload.download = imgSrc.split('/').pop();

            lightbox.style.display = 'block';
            setTimeout(() => {
                lightbox.classList.add('show');
            }, 10);
            document.body.style.overflow = 'hidden';
        }

        function closeLightbox() {
            const lightbox = document.getElementById('lightbox');
            lightbox.classList.remove('show');
            setTimeout(() => {
                lightbox.style.display = 'none';
                document.body.style.overflow = '';
            }, 300);
        }
    </script>
</body>

<style>
    /* Before/After Comparison Styles */
    .before-after-container {
        max-width: 800px;
        margin: 0 auto;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }

    .before-after-wrapper {
        position: relative;
        width: 100%;
        padding-bottom: 66.67%;
        /* 3:2 aspect ratio */
        overflow: hidden;
        cursor: ew-resize;
        user-select: none;
    }

    .after-image,
    .before-image {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .before-image-wrapper {
        position: absolute;
        top: 0;
        left: 0;
        width: 50%;
        height: 100%;
        overflow: hidden;
        z-index: 2;
    }

    .slider-control {
        position: absolute;
        top: 0;
        left: 50%;
        width: 4px;
        height: 100%;
        background: white;
        z-index: 3;
        transform: translateX(-50%);
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    }

    .slider-button {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 40px;
        height: 40px;
        background: white;
        border-radius: 50%;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .slider-button::before,
    .slider-button::after {
        content: '';
        position: absolute;
        width: 0;
        height: 0;
        border-style: solid;
    }

    .slider-button::before {
        left: 8px;
        border-width: 6px 8px 6px 0;
        border-color: transparent var(--primary-color) transparent transparent;
    }

    .slider-button::after {
        right: 8px;
        border-width: 6px 0 6px 8px;
        border-color: transparent transparent transparent var(--primary-color);
    }

    @media (max-width: 768px) {
        .slider-button {
            width: 50px;
            height: 50px;
        }
    }
</style>

<script>
    // Before/After Slider Functionality
    document.addEventListener('DOMContentLoaded', function () {
        const container = document.getElementById('beforeAfterContainer');
        if (!container) return;

        const wrapper = container.querySelector('.before-after-wrapper');
        const beforeWrapper = document.getElementById('beforeImageWrapper');
        const sliderControl = document.getElementById('sliderControl');
        let isDragging = false;

        function updateSlider(e) {
            const rect = wrapper.getBoundingClientRect();
            const x = (e.type.includes('touch') ? e.touches[0].clientX : e.clientX) - rect.left;
            const percentage = Math.max(0, Math.min(100, (x / rect.width) * 100));

            beforeWrapper.style.width = percentage + '%';
            sliderControl.style.left = percentage + '%';
        }

        function startDrag(e) {
            isDragging = true;
            updateSlider(e);
            e.preventDefault();
        }

        function drag(e) {
            if (!isDragging) return;
            updateSlider(e);
        }

        function stopDrag() {
            isDragging = false;
        }

        // Mouse events
        wrapper.addEventListener('mousedown', startDrag);
        document.addEventListener('mousemove', drag);
        document.addEventListener('mouseup', stopDrag);

        // Touch events
        wrapper.addEventListener('touchstart', startDrag, { passive: false });
        document.addEventListener('touchmove', drag, { passive: false });
        document.addEventListener('touchend', stopDrag);
    });
</script>

</html>