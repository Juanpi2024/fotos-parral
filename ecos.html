<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ecos de la Tierra y el Tiempo ‚Äì Archivos en Movimiento</title>

    <!-- Fuentes -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Merriweather:wght@400;700&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- CSS Original -->
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <!-- HEADER ORIGINAL -->
    <header>
        <div class="container">
            <div class="logo-area">
                <h1><a href="index.html">Archivos en Movimiento</a></h1>
                <p class="subtitle">Patrimonio Vivo de Parral</p>
            </div>
            <button class="mobile-menu-btn" aria-label="Men√∫">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <nav class="main-nav">
                <ul>
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="galeria.html">Galer√≠a</a></li>
                    <li><a href="relatos.html">Relatos</a></li>
                    <li><a href="deportistas.html">Deportistas</a></li>
                    <li><a href="educacion.html">Educaci√≥n</a></li>
                    <li><a href="historia.html">Historia</a></li>
                    <li><a href="ecos.html" class="active">Ecos</a></li>
                    <li><a href="mapa.html">Mapa</a></li>
                    <li><a href="participa.html" class="btn-nav">¬°Participa!</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- HERO SECTION -->
    <section class="hero-presentation">
        <h1>Ecos de la Tierra y el Tiempo</h1>
        <p>Un viaje por los hitos que forjaron la identidad de Parral<br>
            Desde la fundaci√≥n hasta nuestros d√≠as</p>
    </section>

    <!-- CONTENEDOR DE √âPOCAS -->
    <div class="presentation-container">

        <!-- Contador de slides -->
        <div class="presentation-counter">
            <span id="currentSlide">1</span> / <span id="totalSlides">15</span>
        </div>

        <!-- Container del Slider (Grid Stack) -->
        <div id="slidesContainer">
            <!-- Flechas de Navegaci√≥n Overlay -->
            <button class="presentation-arrow prev" id="prevBtn" onclick="changeSlide(-1)" aria-label="Anterior">&#10094;</button>
            <button class="presentation-arrow next" id="nextBtn" onclick="changeSlide(1)" aria-label="Siguiente">&#10095;</button>

            <!-- Slide 1: Portada -->
            <div class="presentation-slide">
                <img src="images/ecos-portada.jpg" alt="Cuna de Historias, Tierra de Futuro">
            </div>

            <!-- Slide 2: 1823 - Delegaci√≥n -->
            <div class="presentation-slide">
                <img src="images/ecos-delegacion.jpg" alt="1823: Nace una Delegaci√≥n">
            </div>

            <!-- Slide 3: Ferrocarril -->
            <div class="presentation-slide">
                <img src="images/ecos-ferrocarril.jpg" alt="El Rugido del Progreso: El Ferrocarril">
            </div>

            <!-- Slide 4: Puente Perquilauqu√©n -->
            <div class="presentation-slide">
                <img src="images/ecos-puente.jpg" alt="Puente Perquilauqu√©n: Un Gigante de Acero (1896)">
            </div>

            <!-- Slide 5: Estaci√≥n y Puente -->
            <div class="presentation-slide">
                <img src="images/ecos-estacion.jpg" alt="Estaci√≥n y Puente Perquilauqu√©n: Testigos del Tiempo">
            </div>

            <!-- Slide 6: Nacimiento de Neruda -->
            <div class="presentation-slide">
                <img src="images/ecos-neruda-nace.jpg" alt="12 de Julio de 1904: Nace un Poeta">
            </div>

            <!-- Slide 7: Legado de Neruda -->
            <div class="presentation-slide">
                <img src="images/ecos-neruda-legado.jpg" alt="El Legado de un Nobel">
            </div>

            <!-- Slide 8: Colonia Dignidad 1961 -->
            <div class="presentation-slide">
                <img src="images/ecos-colonia.jpg" alt="1961: Una Sombra en la Precordillera">
            </div>

            <!-- Slide 9: Sitio de Memoria -->
            <div class="presentation-slide">
                <img src="images/ecos-sitio-memoria.jpg" alt="Colonia Dignidad y la Dictadura: Sitio de Memoria">
            </div>

            <!-- Slide 10: Villa Baviera -->
            <div class="presentation-slide">
                <img src="images/ecos-villa-baviera.jpg" alt="Villa Baviera: Del Dolor a la Apertura">
            </div>

            <!-- Slide 11: Cultura Viva -->
            <div class="presentation-slide">
                <img src="images/ecos-cultura.jpg" alt="El Alma de Parral: Cultura Viva">
            </div>

            <!-- Slide 12: Naturaleza y Aventura -->
            <div class="presentation-slide">
                <img src="images/ecos-naturaleza.jpg" alt="El Latido de la Tierra: Naturaleza y Aventura">
            </div>

            <!-- Slide 13: Fiestas y Tradiciones -->
            <div class="presentation-slide">
                <img src="images/ecos-fiestas.jpg" alt="Fiestas y Tradiciones: El Encuentro de la Comunidad">
            </div>

            <!-- Slide 14: Invitaci√≥n -->
            <div class="presentation-slide">
                <img src="images/ecos-invitacion.jpg" alt="Parral te invita a descubrir su historia">
            </div>

            <!-- Slide 15: Mosaico -->
            <div class="presentation-slide">
                <img src="images/ecos-mosaico.jpg" alt="Un Mosaico en Constante Creaci√≥n">
            </div>
        </div>

        <!-- Indicadores de progreso -->
        <div class="presentation-dots" id="progressDots"></div>

        <div class="keyboard-hint">
            üí° Usa las flechas del teclado ‚Üê ‚Üí para navegar
        </div>
    </div>

    <!-- FOOTER ORIGINAL -->
    <footer>
        <div class="container">
            <p>&copy; 2025 Archivos en Movimiento. Patrimonio Vivo de Parral.</p>
        </div>
    </footer>

    <!-- JAVASCRIPT -->
    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll('.presentation-slide');
        const totalSlides = slides.length;
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const currentSlideSpan = document.getElementById('currentSlide');
        const totalSlidesSpan = document.getElementById('totalSlides');
        const progressDotsContainer = document.getElementById('progressDots');

        // Inicializar
        totalSlidesSpan.textContent = totalSlides;

        // Crear dots de progreso
        for (let i = 0; i < totalSlides; i++) {
            const dot = document.createElement('div');
            dot.className = 'dot';
            dot.onclick = () => goToSlide(i);
            progressDotsContainer.appendChild(dot);
        }

        const dots = progressDotsContainer.querySelectorAll('.dot');

        function updateSlideClasses() {
            slides.forEach((slide, index) => {
                slide.classList.remove('active', 'left', 'right');

                if (index < currentSlide) {
                    slide.classList.add('left');
                } else if (index === currentSlide) {
                    slide.classList.add('active');
                } else {
                    // Default is right
                }
            });

            // Update Dots
            dots.forEach((dot, index) => {
                if (index === currentSlide) dot.classList.add('active');
                else dot.classList.remove('active');
            });

            // Update Counter
            currentSlideSpan.textContent = currentSlide + 1;

            // Update Buttons
            if (prevBtn) prevBtn.style.opacity = currentSlide === 0 ? '0.5' : '1';
            if (prevBtn) prevBtn.style.pointerEvents = currentSlide === 0 ? 'none' : 'auto';

            if (nextBtn) nextBtn.style.opacity = currentSlide === totalSlides - 1 ? '0.5' : '1';
            if (nextBtn) nextBtn.style.pointerEvents = currentSlide === totalSlides - 1 ? 'none' : 'auto';
        }

        function changeSlide(direction) {
            let next = currentSlide + direction;
            if (next < 0) next = 0;
            if (next >= totalSlides) next = totalSlides - 1;

            if (next !== currentSlide) {
                currentSlide = next;
                updateSlideClasses();
            }
        }

        function goToSlide(n) {
            if (n >= 0 && n < totalSlides) {
                currentSlide = n;
                updateSlideClasses();
            }
        }

        // Navegaci√≥n con teclado
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') {
                changeSlide(-1);
            } else if (e.key === 'ArrowRight') {
                changeSlide(1);
            }
        });

        // Navegaci√≥n t√°ctil (swipe)
        let touchStartX = 0;
        let touchEndX = 0;

        const sliderContainer = document.getElementById('slidesContainer');

        sliderContainer.addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
        }, {passive: true});

        sliderContainer.addEventListener('touchend', (e) => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        }, {passive: true});

        function handleSwipe() {
            const swipeThreshold = 50;
            if (touchEndX < touchStartX - swipeThreshold) {
                // Swipe left -> Next Slide
                changeSlide(1);
            }
            if (touchEndX > touchStartX + swipeThreshold) {
                // Swipe right -> Prev Slide
                changeSlide(-1);
            }
        }

        // L√≥gica del men√∫ m√≥vil (original del sitio)
        document.querySelector('.mobile-menu-btn').addEventListener('click', function () {
            document.querySelector('.main-nav').classList.toggle('show');
        });

        // Inicializar
        updateSlideClasses();
    </script>
</body>

</html>