<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oficios de Parral: Un Viaje en el Tiempo ‚Äì Archivos en Movimiento</title>

    <!-- Google Fonts del Sitio -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Merriweather:wght@300;400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- CSS Global -->
    <link rel="stylesheet" href="style.css">

    <!-- Tailwind CSS v3.4+ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            corePlugins: {
                preflight: false, // Desactivar reset global para no romper el navbar/footer existente
            },
        }
    </script>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        /* Estilos espec√≠ficos para la secci√≥n de Oficios */
        .oficios-container {
            font-family: 'Lato', sans-serif;
            background-color: #FDFBF5;
            color: #4F4A45;
        }

        .oficios-container h1, .oficios-container h2, .oficios-container h3 {
            font-family: 'Montserrat', sans-serif;
        }

        .timeline-nav {
            position: sticky;
            top: 0;
            z-index: 50;
            background-color: rgba(253, 251, 245, 0.95);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            padding: 1rem 0;
            border-bottom: 1px solid #EADDCA;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        }

        .timeline-btn {
            transition: all 0.3s ease;
            color: #6C5F5B;
            font-weight: 600;
            background: none;
            border: none;
            cursor: pointer;
            border-bottom: 2px solid transparent;
        }

        .timeline-btn:hover {
            color: #A0522D;
            transform: translateY(-2px);
        }

        .timeline-btn.active {
            color: #A0522D;
            border-bottom: 2px solid #A0522D;
        }

        .content-section {
            scroll-margin-top: 140px; /* Adjusted for both headers */
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin: auto;
            height: 300px;
            max-height: 350px;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
                max-height: 400px;
            }
        }
    </style>
</head>

<body class="oficios-container">

    <!-- HEADER GLOBAL -->
    <header>
        <div class="container">
            <div class="logo-area">
                <h1><a href="index.html">Archivos en Movimiento</a></h1>
                <p class="subtitle">Patrimonio Vivo de Parral</p>
            </div>
            <button class="mobile-menu-btn" aria-label="Men√∫">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <nav class="main-nav">
                <ul>
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="galeria.html">Galer√≠a</a></li>
                    <li><a href="relatos.html" class="active">Relatos</a></li>
                    <li><a href="deportistas.html">Deportistas</a></li>
                    <li><a href="educacion.html">Educaci√≥n</a></li>
                    <li><a href="historia.html">Historia</a></li>`n                    <li><a href="ecos.html">Ecos</a></li>
                    <li><a href="mapa.html">Mapa</a></li>
                    <li><a href="participa.html" class="btn-nav">¬°Participa!</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Contenido Espec√≠fico (Hero adaptado) -->
    <section class="text-center py-10 px-4 bg-amber-50">
        <h1 class="text-4xl md:text-5xl font-bold text-amber-900">Oficios de Parral</h1>
        <p class="mt-4 text-lg md:text-xl text-amber-800 max-w-3xl mx-auto">Un viaje interactivo por la historia laboral y econ√≥mica de nuestra comunidad, desde la fundaci√≥n hasta la era digital.</p>
    </section>

    <nav class="timeline-nav">
        <div class="container mx-auto px-4">
            <div class="flex justify-center space-x-4 md:space-x-8 overflow-x-auto">
                <button data-target="epoca-1" class="timeline-btn pb-2 text-sm md:text-base whitespace-nowrap">Siglos XVIII-XIX</button>
                <button data-target="epoca-2" class="timeline-btn pb-2 text-sm md:text-base whitespace-nowrap">Principios S. XX</button>
                <button data-target="epoca-3" class="timeline-btn pb-2 text-sm md:text-base whitespace-nowrap">Mediados S. XX</button>
                <button data-target="epoca-4" class="timeline-btn pb-2 text-sm md:text-base whitespace-nowrap">Siglo XXI</button>
            </div>
        </div>
    </nav>

    <main class="container mx-auto p-4 md:p-8">

        <section id="epoca-1" class="content-section py-12">
            <div class="grid md:grid-cols-2 gap-8 items-center">
                <div>
                    <h2 class="text-3xl font-bold text-amber-900 mb-4">√âpoca Fundacional y Colonia</h2>
                    <h3 class="text-xl font-semibold text-amber-800 mb-2">Siglos XVIII - XIX</h3>
                    <p class="text-gray-700 leading-relaxed mb-6">En los inicios de Parral, la vida giraba en torno a la hacienda. La econom√≠a era de subsistencia y el trabajo estaba directamente ligado a la tierra y a las necesidades b√°sicas de una sociedad rural. Los oficios eran manuales, transmitidos de generaci√≥n en generaci√≥n, y defin√≠an la estructura social de la √©poca.</p>
                    <div class="grid grid-cols-2 sm:grid-cols-3 gap-4 text-center">
                        <div class="bg-white p-3 rounded-lg shadow-sm border border-amber-100">üåæ Hacendado</div>
                        <div class="bg-white p-3 rounded-lg shadow-sm border border-amber-100">üßë‚Äçüåæ Inquilino/Pe√≥n</div>
                        <div class="bg-white p-3 rounded-lg shadow-sm border border-amber-100">üê¥ Arriero</div>
                        <div class="bg-white p-3 rounded-lg shadow-sm border border-amber-100">üî® Herrero</div>
                        <div class="bg-white p-3 rounded-lg shadow-sm border border-amber-100">üß∂ Tejedora</div>
                        <div class="bg-white p-3 rounded-lg shadow-sm border border-amber-100">üè∫ Alfarero</div>
                    </div>
                </div>
                <div class="mt-8 md:mt-0">
                    <div class="chart-container">
                        <canvas id="chartEpoca1"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <hr class="border-t-2 border-amber-100 my-12">

        <section id="epoca-2" class="content-section py-12">
            <div class="grid md:grid-cols-2 gap-8 items-center">
                <div class="md:order-2">
                    <h2 class="text-3xl font-bold text-amber-900 mb-4">Consolidaci√≥n Agr√≠cola</h2>
                    <h3 class="text-xl font-semibold text-amber-800 mb-2">Principios del Siglo XX</h3>
                    <p class="text-gray-700 leading-relaxed mb-6">La llegada del ferrocarril y las primeras m√°quinas transformaron el paisaje laboral. La agricultura se especializ√≥, especialmente en vi√±edos y cereales. Surgieron nuevos oficios ligados a la mec√°nica y el transporte, y los pueblos crecieron con peque√±os comercios y servicios b√°sicos que apoyaban la actividad agr√≠cola.</p>
                     <div class="grid grid-cols-2 sm:grid-cols-3 gap-4 text-center">
                        <div class="bg-white p-3 rounded-lg shadow-sm border border-amber-100">üçá Vi√±atero</div>
                        <div class="bg-white p-3 rounded-lg shadow-sm border border-amber-100">üõ†Ô∏è Mec√°nico</div>
                        <div class="bg-white p-3 rounded-lg shadow-sm border border-amber-100">üöÇ Ferroviario</div>
                        <div class="bg-white p-3 rounded-lg shadow-sm border border-amber-100">üç∑ Bodeguero</div>
                        <div class="bg-white p-3 rounded-lg shadow-sm border border-amber-100">üë©‚Äçüè´ Maestra</div>
                        <div class="bg-white p-3 rounded-lg shadow-sm border border-amber-100">ü•ñ Panadero</div>
                    </div>
                </div>
                <div class="mt-8 md:mt-0 md:order-1">
                    <div class="chart-container">
                        <canvas id="chartEpoca2"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <hr class="border-t-2 border-amber-100 my-12">

        <section id="epoca-3" class="content-section py-12">
            <div class="grid md:grid-cols-2 gap-8 items-center">
                <div>
                    <h2 class="text-3xl font-bold text-amber-900 mb-4">Modernizaci√≥n y Agroindustria</h2>
                    <h3 class="text-xl font-semibold text-amber-800 mb-2">Mediados y Finales del Siglo XX</h3>
                    <p class="text-gray-700 leading-relaxed mb-6">La tecnificaci√≥n del campo se masific√≥. La reforma agraria cambi√≥ la tenencia de la tierra y la agroindustria se consolid√≥ con la aparici√≥n de plantas de envasado y exportaci√≥n, especialmente de frutas. El trabajo temporero se volvi√≥ clave, y los servicios de apoyo a la agricultura se profesionalizaron.</p>
                    <div class="grid grid-cols-2 sm:grid-cols-3 gap-4 text-center">
                        <div class="bg-white p-3 rounded-lg shadow-sm border border-amber-100">üöú Tractorista</div>
                        <div class="bg-white p-3 rounded-lg shadow-sm border border-amber-100">üë©‚Äçüî¨ Ing. Agr√≥nomo</div>
                        <div class="bg-white p-3 rounded-lg shadow-sm border border-amber-100">üì¶ Obrero de Packing</div>
                        <div class="bg-white p-3 rounded-lg shadow-sm border border-amber-100">üöõ Camionero</div>
                        <div class="bg-white p-3 rounded-lg shadow-sm border border-amber-100">üßë‚Äçüíº Empleado P√∫blico</div>
                        <div class="bg-white p-3 rounded-lg shadow-sm border border-amber-100">üçì Temporera/o</div>
                    </div>
                </div>
                <div class="mt-8 md:mt-0">
                    <div class="chart-container">
                        <canvas id="chartEpoca3"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <hr class="border-t-2 border-amber-100 my-12">

        <section id="epoca-4" class="content-section py-12">
            <div class="grid md:grid-cols-2 gap-8 items-center">
                <div class="md:order-2">
                    <h2 class="text-3xl font-bold text-amber-900 mb-4">√âpoca Contempor√°nea</h2>
                    <h3 class="text-xl font-semibold text-amber-800 mb-2">Siglo XXI</h3>
                    <p class="text-gray-700 leading-relaxed mb-6">La globalizaci√≥n y la tecnolog√≠a digital redefinen los oficios. La agricultura de precisi√≥n, con drones y riego tecnificado, requiere nuevas habilidades. El sector servicios se expande enormemente, y surgen oportunidades en turismo rural, log√≠stica y profesiones que pueden realizarse a distancia, diversificando la econom√≠a local m√°s all√° del campo.</p>
                     <div class="grid grid-cols-2 sm:grid-cols-3 gap-4 text-center">
                        <div class="bg-white p-3 rounded-lg shadow-sm border border-amber-100">üõ∞Ô∏è Op. Dron Agr√≠cola</div>
                        <div class="bg-white p-3 rounded-lg shadow-sm border border-amber-100">üíß Esp. en Riego</div>
                        <div class="bg-white p-3 rounded-lg shadow-sm border border-amber-100">üë®‚Äçüíª Desarrollador</div>
                        <div class="bg-white p-3 rounded-lg shadow-sm border border-amber-100">üè® Gu√≠a de Turismo</div>
                        <div class="bg-white p-3 rounded-lg shadow-sm border border-amber-100">üßë‚Äç‚öïÔ∏è Profesional Salud</div>
                        <div class="bg-white p-3 rounded-lg shadow-sm border border-amber-100">üõí Repartidor</div>
                    </div>
                </div>
                <div class="mt-8 md:mt-0 md:order-1">
                    <div class="chart-container">
                        <canvas id="chartEpoca4"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <div class="mt-12 text-center">
            <a href="relatos.html" class="inline-flex items-center text-lg font-medium text-amber-800 hover:text-amber-600">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
                Volver a Relatos
            </a>
        </div>
    </main>

    <footer class="bg-amber-900 text-white text-center p-6 mt-12">
        <p>&copy; 2024 Visualizaci√≥n Hist√≥rica de Parral. Creado como herramienta para la comunidad.</p>
    </footer>

    <script>
        // Header Logic (Mobile Menu)
        document.querySelector('.mobile-menu-btn').addEventListener('click', function() {
            document.querySelector('.main-nav').classList.toggle('show');
        });

        document.addEventListener('DOMContentLoaded', () => {
            const chartColors = {
                agricultura: 'rgba(139, 69, 19, 0.7)',
                artesania: 'rgba(210, 105, 30, 0.7)',
                comercio: 'rgba(244, 164, 96, 0.7)',
                servicios: 'rgba(222, 184, 135, 0.7)',
                industria: 'rgba(160, 82, 45, 0.7)',
                agroindustria: 'rgba(139, 69, 19, 0.9)',
                profesional: 'rgba(188, 143, 143, 0.7)',
                logistica: 'rgba(218, 165, 32, 0.7)',
            };

            const createDonutChart = (ctx, labels, data, colors) => {
                new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'Distribuci√≥n Sectorial',
                            data: data,
                            backgroundColor: colors,
                            borderColor: '#FDFBF5',
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    font: {
                                        size: 12,
                                        family: "'Lato', sans-serif"
                                    },
                                    color: '#4F4A45'
                                }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        if (context.parsed !== null) {
                                            label += context.parsed + '%';
                                        }
                                        return label;
                                    }
                                }
                            }
                        }
                    }
                });
            };

            createDonutChart(
                document.getElementById('chartEpoca1').getContext('2d'),
                ['Agricultura', 'Artesan√≠a', 'Comercio/Servicios'],
                [75, 15, 10],
                [chartColors.agricultura, chartColors.artesania, chartColors.comercio]
            );

            createDonutChart(
                document.getElementById('chartEpoca2').getContext('2d'),
                ['Agricultura', 'Industria Incipiente', 'Servicios', 'Comercio'],
                [60, 15, 15, 10],
                [chartColors.agricultura, chartColors.industria, chartColors.servicios, chartColors.comercio]
            );

            createDonutChart(
                document.getElementById('chartEpoca3').getContext('2d'),
                ['Agroindustria', 'Servicios', 'Comercio'],
                [50, 25, 25],
                [chartColors.agroindustria, chartColors.servicios, chartColors.comercio]
            );

            createDonutChart(
                document.getElementById('chartEpoca4').getContext('2d'),
                ['Servicios/Profesional', 'Agroindustria', 'Comercio/Log√≠stica'],
                [45, 30, 25],
                [chartColors.profesional, chartColors.agroindustria, chartColors.logistica]
            );

            const navButtons = document.querySelectorAll('.timeline-btn');
            const sections = document.querySelectorAll('.content-section');

            navButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetId = button.getAttribute('data-target');
                    const targetSection = document.getElementById(targetId);
                    if (targetSection) {
                        targetSection.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.id;
                        navButtons.forEach(btn => {
                            btn.classList.toggle('active', btn.getAttribute('data-target') === id);
                        });
                    }
                });
            }, { rootMargin: '-40% 0px -60% 0px', threshold: 0 });

            sections.forEach(section => {
                observer.observe(section);
            });

            if (sections.length > 0) {
                 navButtons[0].classList.add('active');
            }
        });
    </script>
</body>
</html>