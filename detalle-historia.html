---
---
<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Historia de Parral ‚Äì Archivos en Movimiento</title>
  <meta name="description"
    content="Conoce los relatos y cr√≥nicas que documentan la evoluci√≥n de Parral, sus tradiciones y su gente a trav√©s del tiempo.">

  <!-- Open Graph -->
  <meta property="og:type" content="article">
  <meta property="og:title" content="Cr√≥nicas y Relatos: La Historia de Parral">
  <meta property="og:description" content="Un compendio de memorias locales preservadas para el futuro.">
  <meta property="og:image" content="https://fotos-parral.cl/optimized/images/epoca-portada.webp">

  <!-- Fuentes -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Merriweather:wght@400;700&display=swap"
    rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- CSS Original -->
  <link rel="stylesheet" href="style.css">
</head>

<body>

  {% include header.html %}

  <!-- HERO SECTION -->
  <section class="hero-presentation">
    <h1>Archivos en Movimiento</h1>
    <p>El Patrimonio Vivo de Parral<br>
      Un viaje por la historia del trabajo en nuestra comunidad</p>
  </section>

  <!-- CONTENEDOR DE √âPOCAS -->
  <div class="presentation-container">

    <!-- Contador de slides -->
    <div class="presentation-counter">
      <span id="currentSlide">1</span> / <span id="totalSlides">15</span>
    </div>

    <!-- Indicadores de progreso -->
    <div class="presentation-dots" id="progressDots"></div>

    <!-- Slides -->
    <div id="slidesContainer">
      <!-- Slide 1: Portada -->
      <div class="presentation-slide active">
        <img src="optimized/images/epoca-portada.webp" alt="Archivos en Movimiento - El Patrimonio Vivo de Parral"
          loading="lazy" width="1200" height="675">
      </div>

      <!-- Slide 2: Introducci√≥n -->
      <div class="presentation-slide">
        <img src="optimized/images/epoca-intro.webp" alt="Las Manos que Construyeron Parral" loading="lazy" width="1200"
          height="675">
      </div>

      <!-- Slide 3: Timeline general -->
      <div class="presentation-slide">
        <img src="optimized/images/epoca-timeline.webp" alt="Cuatro √âpocas. Una Historia de Evoluci√≥n" loading="lazy"
          width="1200" height="675">
      </div>

      <!-- Slide 4: √âpoca 1 - Fundacional -->
      <div class="presentation-slide">
        <img src="optimized/images/epoca-1-fundacional.webp" alt="√âpoca Fundacional y Colonia (Siglos XVIII-XIX)"
          loading="lazy" width="1200" height="675">
      </div>

      <!-- Slide 5: √âpoca 1 - Oficios -->
      <div class="presentation-slide">
        <img src="optimized/images/epoca-1-oficios.webp" alt="Los Pilares de la Comunidad - Oficios Coloniales"
          loading="lazy" width="1200" height="675">
      </div>

      <!-- Slide 6: √âpoca 2 - Introducci√≥n -->
      <div class="presentation-slide">
        <img src="optimized/images/epoca-2-intro.webp" alt="Consolidaci√≥n Agr√≠cola (Principios del Siglo XX)"
          loading="lazy" width="1200" height="675">
      </div>

      <!-- Slide 7: √âpoca 2 - Ferrocarril -->
      <div class="presentation-slide">
        <img src="optimized/images/epoca-2-ferrocarril.webp" alt="El Sonido del Progreso: La Llegada del Ferrocarril"
          loading="lazy" width="1200" height="675">
      </div>

      <!-- Slide 8: √âpoca 2 - Oficios -->
      <div class="presentation-slide">
        <img src="optimized/images/epoca-2-oficios.webp" alt="Nuevos Oficios para un Nuevo Siglo" loading="lazy"
          width="1200" height="675">
      </div>

      <!-- Slide 9: √âpoca 3 - Introducci√≥n -->
      <div class="presentation-slide">
        <img src="optimized/images/epoca-3-intro.webp" alt="La Revoluci√≥n Verde Llega al Campo" loading="lazy"
          width="1200" height="675">
      </div>

      <!-- Slide 10: √âpoca 3 - Detalle -->
      <div class="presentation-slide">
        <img src="optimized/images/epoca-3-detalle.webp"
          alt="Modernizaci√≥n y Agroindustria (Mediados y Finales del Siglo XX)" loading="lazy" width="1200"
          height="675">
      </div>

      <!-- Slide 11: √âpoca 3 - Oficios -->
      <div class="presentation-slide">
        <img src="optimized/images/epoca-3-oficios.webp" alt="La Cadena de Valor Agroindustrial" loading="lazy"
          width="1200" height="675">
      </div>

      <!-- Slide 12: √âpoca 4 - Introducci√≥n -->
      <div class="presentation-slide">
        <img src="optimized/images/epoca-4-intro.webp" alt="√âpoca Contempor√°nea (Siglo XXI)" loading="lazy" width="1200"
          height="675">
      </div>

      <!-- Slide 13: √âpoca 4 - Oficios -->
      <div class="presentation-slide">
        <img src="optimized/images/epoca-4-oficios.webp" alt="El Mosaico Laboral de Hoy" loading="lazy" width="1200"
          height="675">
      </div>

      <!-- Slide 14: √âpoca 4 - Digital -->
      <div class="presentation-slide">
        <img src="optimized/images/epoca-4-digital.webp" alt="La Conexi√≥n Global: La Era Digital Despega" loading="lazy"
          width="1200" height="675">
      </div>

      <!-- Slide 15: Conclusi√≥n -->
      <div class="presentation-slide">
        <img src="optimized/images/epoca-conclusion.webp" alt="El Hilo del Trabajo Nunca se Detiene" loading="lazy"
          width="1200" height="675">
      </div>
    </div>

    <!-- Navegaci√≥n -->
    <div class="presentation-nav">
      <button id="prevBtn" onclick="changeSlide(-1)">‚Üê Anterior</button>
      <button id="nextBtn" onclick="changeSlide(1)">Siguiente ‚Üí</button>
    </div>

    <div class="keyboard-hint">
      üí° Usa las flechas del teclado ‚Üê ‚Üí para navegar
    </div>

    <!-- Secci√≥n de descarga -->
    <div class="download-section">
      <h3>üì• Descarga la Presentaci√≥n Completa</h3>
      <p>Obt√©n todas las im√°genes de esta l√≠nea de tiempo hist√≥rica para uso educativo</p>
      <a href="#" class="btn-download"
        onclick="alert('Funci√≥n de descarga pr√≥ximamente disponible'); return false;">Descargar PDF</a>
    </div>
  </div>

  <!-- FOOTER ORIGINAL -->
  <footer>
    <div class="container">
      <p>&copy; 2025 Archivos en Movimiento. Patrimonio Vivo de Parral.</p>
    </div>
  </footer>
  <!-- Main JavaScript File -->
  <button id="toTop" aria-label="Volver arriba">‚ú¶</button>

  {% include footer.html %}

  <script src="js/home.js"></script>

  <!-- JAVASCRIPT -->
  <script>
    let currentSlide = 0;
    // Updated selector
    const slides = document.querySelectorAll('.presentation-slide');
    const totalSlides = slides.length;
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const currentSlideSpan = document.getElementById('currentSlide');
    const totalSlidesSpan = document.getElementById('totalSlides');
    const progressDotsContainer = document.getElementById('progressDots');

    // Inicializar
    totalSlidesSpan.textContent = totalSlides;

    // Crear dots de progreso
    for (let i = 0; i < totalSlides; i++) {
      const dot = document.createElement('div');
      dot.className = 'dot';
      if (i === 0) dot.classList.add('active');
      dot.onclick = () => goToSlide(i);
      progressDotsContainer.appendChild(dot);
    }

    // Select dots within the specific container to avoid global conflicts if any
    const dots = progressDotsContainer.querySelectorAll('.dot');

    function showSlide(n) {
      // Validar rango
      if (n >= totalSlides) {
        currentSlide = totalSlides - 1;
      } else if (n < 0) {
        currentSlide = 0;
      } else {
        currentSlide = n;
      }

      // Ocultar todos los slides
      slides.forEach(slide => slide.classList.remove('active'));
      dots.forEach(dot => dot.classList.remove('active'));

      // Mostrar slide actual
      slides[currentSlide].classList.add('active');
      dots[currentSlide].classList.add('active');

      // Actualizar contador
      currentSlideSpan.textContent = currentSlide + 1;

      // Actualizar botones
      prevBtn.disabled = currentSlide === 0;
      nextBtn.disabled = currentSlide === totalSlides - 1;

      // Scroll suave al inicio del slide
      // Changed to scroll to the top of the container instead of window to be less jarring?
      // User asked for stability. But sticking to original behavior (window top) is safer for now unless requested.
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function changeSlide(direction) {
      showSlide(currentSlide + direction);
    }

    function goToSlide(n) {
      showSlide(n);
    }

    // Navegaci√≥n con teclado
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowLeft') {
        changeSlide(-1);
      } else if (e.key === 'ArrowRight') {
        changeSlide(1);
      }
    });

    // Navegaci√≥n t√°ctil (swipe)
    let touchStartX = 0;
    let touchEndX = 0;

    document.addEventListener('touchstart', (e) => {
      touchStartX = e.changedTouches[0].screenX;
    });

    document.addEventListener('touchend', (e) => {
      touchEndX = e.changedTouches[0].screenX;
      handleSwipe();
    });

    function handleSwipe() {
      const swipeThreshold = 50;
      if (touchEndX < touchStartX - swipeThreshold) {
        // Swipe left
        changeSlide(1);
      }
      if (touchEndX > touchStartX + swipeThreshold) {
        // Swipe right
        changeSlide(-1);
      }
    }

    // L√≥gica del men√∫ m√≥vil (original del sitio)
    document.querySelector('.mobile-menu-btn').addEventListener('click', function () {
      document.querySelector('.main-nav').classList.toggle('show');
    });

    // Inicializar primera slide
    showSlide(0);
  </script>
</body>

</html>